let argv=process.argv.slice(1);function clear(e){let t=e.replace("ï¿½","i").toLowerCase();return t=t.replaceAll(" ",""),t=t.replaceAll("^^","^"),t=t.replaceAll("**","^"),t=t.replaceAll("[","("),t=t.replaceAll("]",")"),t=t.replaceAll("pi",Math.PI.toString()),t.replaceAll(",",".")}function clear2(e){let t=e,n=/\+-/;for(;t.match(n)!=null;){let e=t.match(n);t=t.replace(e,"-")}for(n=/--/;t.match(n)!=null;){let e=t.match(n);t=t.replace(e,"+")}return t}function calc(e){let t=clear(e);t=clear2(t);let n=/\([^(,)]{1,}\)/;for(;t.match(n)!=null;){let e=t.match(n);t=t.replace(e,calc(e[0].slice(1,-1).toString()))}for(t=clear2(t),n=/[^-+*/\^]{1,}\^[^-+*/\^]{1,}/;t.match(n)!=null;){let e=t.match(n);t=t.replace(e,simpleMath(e[0]).toString())}for(t=clear2(t),n=/[^-+*/\^]{1,}!/;t.match(n)!=null;){let e=t.match(n);t=t.replace(e,fact(e[0].slice(0,-1)).toString())}t=clear2(t);let s=/[^-+*/\^]{1,}[*/][^-+*/\^]{1,}/,o=/[^-+*/\^]{1,}[-+][^-+*/\^]{1,}/;for(;t.match(s)!=null;){let e=t.match(s);t=t.replace(e,simpleMath(e[0]).toString())}for(t=clear2(t);t.match(o)!=null;){let e=t.match(o);t=t.replace(e,simpleMath(e[0]).toString())}return t=clear2(t),t}function fact(e){return e==0?1:e*fact(e-1)}function simpleMath(e){let t;e.includes("+")?t="+":e.includes("-")?t="-":e.includes("*")?t="*":e.includes("/")?t="/":e.includes("^")&&(t="^");let o=e.split(t),n=Number(o[0]),s=Number(o[1]);switch(t){case"+":return n+s;case"-":return n-s;case"*":return n*s;case"^":return n**s;default:return n/s}}if(argv.length>1)console.log("\x1b[33m"+calc(argv.slice(1).join(" "))+"\x1b[0m\n"),process.exit(0);else{const e=require("readline-sync");for(;!0;)console.log("\x1b[33m"+calc(e.question("> "))+"\x1b[0m\n")}